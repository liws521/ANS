

- rANS同样也无法处理符号全一样的case
    - 例如待压缩符号全是a, tablelog = 5
    - 压符号a时构建出的start=0, prob=32
    - 在执行 s >= prob << (sPrec - tablelog)时, 右侧为 2^5 << (64-5), 最终为2^64, 超出uint的表示范围, 溢出, 值为0, 陷入死循环
- 顺利写完编码后, 写解码的代码的时候发现需要概率模型
    - 和tANS类似的是, rANS的压缩中也需要把概率模型写在表头
    - tablelog, normalizedTable, 等信息, 约定一套协议
    - 先为了实现简单, 不考虑压缩率, 压一个字节的tablelog, 256个字节的normalizedTable
- 为了判断解码的终止条件最好再把原文大小写到压缩文件中
    - 可变长编码就涉及标志位之类的, 约定好协议即可
    - 这里不考虑压缩率, 设置固定4个字节大小, 这个其实就是概率模型中的total